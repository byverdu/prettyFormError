{"version":3,"sources":["prettyError.min.js"],"names":["$","window","document","undefined","createErrorsForInvalid","invalid","options","each","index","value","errors","elementError","addClass","classError","text","validationMessage","positionMethod","pluginName","dataKey","Plugin","element","this","multiCheckbox","enabled","selector","callToAction","focusErrorOnClick","fadeOutError","fadeOut","init","prototype","console","warn","extend","multiCheckboxConfig","handleClickCallToAction","allCheckboxes","change","is","removeAttr","attr","btn","find","on","event","preventDefault","remove","not","length","focus","fadeOutOpts","fn","data","jQuery"],"mappings":"CAEG,SAAUA,EAAGC,EAAQC,EAAUC,GAKhC,QAASC,GAAuBC,EAASC,GACvC,MAAON,GAAEO,KAAMF,EAAS,SAAUG,EAAOC,GACvC,GAAIC,GAASV,EAAE,IAAMM,EAAQK,aAAe,KACzCC,SAAUN,EAAQO,YAClBC,KAAML,EAAMM,kBAEff,GAAGS,GAAQH,EAAQU,gBAAiBN,KAVxC,GAAIO,GAAa,cACbC,EAAU,UAAYD,EActBE,EAAS,SAAUC,EAASd,GAC9Be,KAAKD,QAAUpB,EAAEoB,GACjBC,KAAKf,SACHgB,eACEC,SAAS,EACTC,SAAU,kBAEZX,WAAY,cACZG,eAAgB,QAChBL,aAAc,MACdc,aAAc,SACdC,mBAAmB,EACnBC,cAAeC,SAAS,IAG1BP,KAAKQ,KAAMvB,GAGba,GAAOW,WACLD,KAAM,SAAUvB,GAGVA,IAAYH,GACZG,EAAQU,iBAAmBb,GACA,UAA3BG,EAAQU,gBACmB,WAA3BV,EAAQU,iBAEVe,QAAQC,KACN,uGAEF1B,EAAQU,eAAiB,SAG3BhB,EAAEiC,OAAQZ,KAAKf,QAASA,GAGpBe,KAAKf,QAAQgB,cAAcC,SAC7BF,KAAKa,oBAAoBb,KAAKf,SAGhCe,KAAKc,wBAAyBd,KAAKD,QAASC,KAAKf,UAKnD4B,oBAAqB,SAAS5B,GAC5B,GAAI8B,GAAgBpC,EAAGM,EAAQgB,cAAcE,SAC7CY,GACGC,OAAO,WACFD,EAAcE,GAAG,YACnBF,EAAcG,WAAW,YAEzBH,EAAcI,KAAK,WAAY,eAMvCL,wBAAyB,SAAUf,EAASd,GAC1C,GAAImC,GAAMrB,EAAQsB,KAAMpC,EAAQmB,aAEhCgB,GAAIE,GAAI,QAAS,SAAUC,GACzBA,EAAMC,iBAEN7C,EAAG,IAAMM,EAAQO,YAAaiC,QAI9B,IAAIzC,GAAUe,EAAQsB,KAAM,YAAaK,IAAK,WAG9C3C,GAAwBC,EAASC,GAG5BA,EAAQoB,mBAAqBrB,EAAQ2C,OAAS,GACjD3C,EAAQ,GAAG4C,QAIR3C,EAAQqB,aAAaC,SACxB5B,EAAG,IAAMM,EAAQO,YACde,QAAStB,EAAQqB,aAAauB,iBAMzClD,EAAEmD,GAAIlC,GAAe,SAAUX,GAC7B,MAAOe,MAAKd,KAAM,WACVP,EAAEoD,KAAM/B,KAAMH,IAClBlB,EAAEoD,KAAM/B,KAAMH,EAAS,GAAIC,GAAQE,KAAMf,QAI9C+C,OAAQpD,OAAQC","file":"prettyError.min.js","sourcesContent":["// prettyError jQuery plugin\n\n;( function( $, window, document, undefined ) { // eslint-disable-line\n  var pluginName = 'prettyError';\n  var dataKey = 'plugin_' + pluginName;\n\n  // utils\n  function createErrorsForInvalid(invalid, options) {\n    return $.each( invalid, function( index, value ) {\n      var errors = $('<' + options.elementError + '>')\n        .addClass( options.classError )\n        .text( value.validationMessage );\n      // position for error message -> before or after\n      $( value )[options.positionMethod]( errors );\n    });\n  }\n\n  // Plugin constructor\n  var Plugin = function( element, options ) {\n    this.element = $(element);\n    this.options = {\n      multiCheckbox: {\n        enabled: false,\n        selector: '.multiCheckbox'\n      },\n      classError: 'prettyError',\n      positionMethod: 'after',\n      elementError: 'div',\n      callToAction: 'button',\n      focusErrorOnClick: true,\n      fadeOutError: {fadeOut: false}\n    };\n\n    this.init( options );\n  };\n\n  Plugin.prototype = {\n    init: function( options ) {\n      // user options checker for positionMethod\n      // to avoid breaking the plugin initialization\n      if (options !== undefined &&\n          options.positionMethod !== undefined &&\n          options.positionMethod !== 'after' &&\n          options.positionMethod !== 'before'\n        ) {\n        console.warn(\n          'positionMethod prop values should be \"after\" or \"before\", a default \"after\" value has been assigned'\n        );\n        options.positionMethod = 'after';\n      }\n\n      $.extend( this.options, options );\n\n      // multiCheckbox configuration\n      if (this.options.multiCheckbox.enabled) {\n        this.multiCheckboxConfig(this.options);\n      }\n\n      this.handleClickCallToAction( this.element, this.options );\n    },\n\n    // workaround to validate the multiple\n    // checkboxes that at least one value is required\n    multiCheckboxConfig: function(options) {\n      var allCheckboxes = $( options.multiCheckbox.selector );\n      allCheckboxes\n        .change(function() {\n          if (allCheckboxes.is(':checked')) {\n            allCheckboxes.removeAttr('required');\n          } else {\n            allCheckboxes.attr('required', 'required');\n          }\n        });\n    },\n\n    // button click handler\n    handleClickCallToAction: function( element, options ) {\n      var btn = element.find( options.callToAction );\n\n      btn.on( 'click', function( event ) {\n        event.preventDefault();\n        // removing the old errors\n        $( '.' + options.classError ).remove();\n\n        // targeting all invalid errors,\n        // fieldset elements also receive the validity pseudo-selector\n        var invalid = element.find( ':invalid' ).not( 'fieldset' );\n\n        // Adding errors to :invalid elements\n        createErrorsForInvalid( invalid, options );\n\n        // focus the first element with error\n        if ( options.focusErrorOnClick && invalid.length > 1 ) {\n          invalid[0].focus();\n        }\n\n        // fadeOut de errors\n        if ( options.fadeOutError.fadeOut ) {\n          $( '.' + options.classError )\n            .fadeOut( options.fadeOutError.fadeOutOpts );\n        }\n      });\n    }\n  };\n\n  $.fn[ pluginName ] = function( options ) {\n    return this.each( function() {\n      if ( !$.data( this, dataKey ) ) {\n        $.data( this, dataKey, new Plugin( this, options ) );\n      }\n    });\n  };\n}( jQuery, window, document ));\n"]}